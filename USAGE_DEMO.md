# 智能超市收银系统 - 图片条码扫描功能演示

## 新功能特色

✨ **图片条码扫描** - 全新的功能，可以从图片文件中识别条码！

### 🎯 主要功能

1. **单张图片扫描** - 选择一张包含条码的图片进行扫描
2. **批量文件夹扫描** - 选择整个文件夹，自动扫描其中的所有图片
3. **实时图片预览** - 在界面中预览选中的图片
4. **动画扫描效果** - 美观的进度条显示扫描进度
5. **自动加入购物车** - 识别到条码后自动添加商品到购物车

### 🚀 使用方法

#### 启动程序
```bash
cd build
./SmartPOS
```

#### 在GUI中使用新功能

1. **启动程序后，在左侧面板找到"条码扫描"区域**

2. **使用"选择图片"按钮**：
   - 点击"选择图片"按钮
   - 在文件对话框中选择一张包含条码的图片（支持 jpg, png, bmp, gif, tiff）
   - 图片会显示在预览区域
   - 扫描进度条会显示动画效果
   - 扫描完成后，如果检测到条码，商品会自动添加到购物车

3. **使用"选择文件夹"按钮**：
   - 点击"选择文件夹"按钮
   - 选择包含多张条码图片的文件夹
   - 系统会自动扫描文件夹中的第一张图片
   - 可以继续处理文件夹中的其他图片

### 🧪 智能模拟识别

当前版本使用智能文件名识别，根据图片文件名自动匹配商品：

| 文件名包含 | 识别为商品 | 条码 |
|------------|------------|------|
| coca, 可口可乐 | 可口可乐 | 6901028075381 |
| milk, 牛奶 | 蒙牛牛奶 | 6901028110662 |
| coffee, 咖啡 | 雀巢咖啡 | 6901028142014 |
| noodle, 面条 | 康师傅方便面 | 6920202220010 |
| tea, 茶 | 统一红茶 | 6925303720018 |
| 其他文件名 | 随机商品 | 演示条码之一 |

### 📁 测试图片建议

为了测试功能，您可以创建以下名称的图片文件：
- `coca_cola_barcode.jpg` - 会识别为可口可乐
- `milk_product.png` - 会识别为蒙牛牛奶  
- `coffee_package.bmp` - 会识别为雀巢咖啡
- `noodle_instant.jpg` - 会识别为康师傅方便面
- `green_tea.png` - 会识别为统一红茶

### 🎨 界面特色

- **图片预览区域**：虚线边框的预览区域，支持图片缩放显示
- **进度条动画**：平滑的扫描进度显示
- **状态提示**：实时显示当前操作状态
- **响应式布局**：适配不同屏幕尺寸

### 🔧 技术实现

- **Qt6 框架**：现代C++图形界面
- **信号槽机制**：松耦合的事件处理
- **异步处理**：不阻塞UI的图片加载
- **智能文件过滤**：自动识别支持的图片格式
- **内存优化**：高效的图片显示和处理

### 🚀 未来升级路径

当需要真实条码识别时，可以集成以下库：

1. **QZXing** - Qt版本的ZXing条码识别库
2. **OpenCV + ZBar** - 开源计算机视觉 + 条码识别
3. **ZXing-C++** - C++版本的ZXing库

详细集成方法请参考 `src/barcode/README.md`

### 💡 使用提示

1. **图片质量**：确保条码图片清晰，对比度良好
2. **文件格式**：支持常见图片格式，推荐使用 JPG 或 PNG
3. **文件命名**：使用有意义的文件名可以获得更好的模拟识别效果
4. **批量处理**：可以准备一个文件夹包含多张条码图片进行批量测试

---

�� **享受新的图片条码扫描体验吧！** 